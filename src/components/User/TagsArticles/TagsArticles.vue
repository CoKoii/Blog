<script setup lang="ts">
const scrollContainer = (container: HTMLElement, direction: 'left' | 'right') => {
  const scrollAmount = 320 // ä¸€ä¸ªæ–‡ç« å¡ç‰‡çš„å®½åº¦åŠ é—´è·
  const currentScroll = container.scrollLeft
  const targetScroll =
    direction === 'left' ? Math.max(0, currentScroll - scrollAmount) : currentScroll + scrollAmount

  container.scrollTo({
    left: targetScroll,
    behavior: 'smooth',
  })
}

const scrollLeft = (index: number) => {
  const container = document.querySelector(`.scroll-container-${index}`) as HTMLElement
  if (container) scrollContainer(container, 'left')
}

const scrollRight = (index: number) => {
  const container = document.querySelector(`.scroll-container-${index}`) as HTMLElement
  if (container) scrollContainer(container, 'right')
}
</script>

<template>
  <div class="TagsArticles">
    <div class="item" v-for="(item, index) in 4" :key="item">
      <h1><span class="dots" style="background-color: #28c840"></span> JavaScript</h1>
      <div class="title_desc">
        JavaScriptï¼ˆç®€ç§°JSï¼‰æ˜¯ä¸€ç§é«˜çº§çš„ã€è§£é‡Šå‹çš„ç¼–ç¨‹è¯­è¨€ã€‚å®ƒæ˜¯ä¸€ç§åŠ¨æ€ç±»å‹ã€åŸºäºåŸå‹ã€æ”¯æŒé¢å‘å¯¹è±¡ã€å‘½ä»¤å¼ã€å‡½æ•°å¼ç¼–ç¨‹é£æ ¼çš„å¤šèŒƒå¼è¯­è¨€ã€‚
      </div>
      <div class="articles-container">
        <button class="scroll-btn scroll-left" @click="scrollLeft(index)">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
          </svg>
        </button>

        <div class="articles-scroll" :class="`scroll-container-${index}`">
          <div class="article-item" v-for="article in 8" :key="article">
            <div class="img">
              <img
                src="https://oss.zibll.com/zibll.com/2020/11/%E6%8E%A8%E5%B9%BF%E8%AE%A1%E5%88%92.png?x-oss-process=image%2Fquality,q_50%2Fresize,m_fill,w_429,h_300"
                alt=""
              />
              <div class="read_total">30äººè¯»è¿‡</div>
            </div>
            <div class="info">
              <img class="avatar" src="https://q1.qlogo.cn/g?b=qq&nk=2655257336&s=640" alt="" />
              <div class="desc">
                <div class="title">ğŸ’³ WildCard è™šæ‹Ÿä¿¡ç”¨å¡ç”³è¯· - æµ·å¤– AI å·¥å…·å……å€¼</div>
                <div class="author">CaoKai</div>
                <div class="arguments">
                  <span class="time">2020-11-01</span>
                  <span>â€¢</span>
                  <span class="tags">æ ‡ç­¾1</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <button class="scroll-btn scroll-right" @click="scrollRight(index)">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" />
          </svg>
        </button>
      </div>
    </div>
  </div>
</template>

<style scoped lang="scss">
@use './style.scss';
</style>
